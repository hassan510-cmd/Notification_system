{"version":3,"sources":["NavComponent/Form.jsx","NavComponent/Nav.jsx","App.js","reportWebVitals.js","index.js"],"names":["Form","props","HandleSendMessage","e","preventDefault","notify_data","target","msg_title","value","msg_content","to_email","userid","console","log","axios","post","url","then","setState","done","catch","error","state","className","onSubmit","this","type","placeholder","disabled","useremail","name","Component","Nav","HandleLoginas","userID","user_id","get","response","data","notify_count","count","notify_content","notifications","current_username","username","current_mail","current_id","ChangeNotifyState","pk","patch","notify","id","splice","indexOf","DeleteNotify","delete","class","map","object","index","style","sender","title","content","onClick","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7eadf197.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\nexport default class Form extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            done: 'default'\n        }\n        // this.url = \"http://127.0.0.1:8000\" for npm start\n        this.url = \"\"\n    }\n\n    HandleSendMessage = (e) => {\n        e.preventDefault()\n        const notify_data = {\n            'title': e.target.msg_title.value,\n            'content': e.target.msg_content.value,\n            'receiver_email': e.target.to_email.value,\n            'sender': this.props.userid\n        }\n        console.log(notify_data)\n        axios.post(`${this.url}/notifications/notify/`, notify_data).then(() => {\n            e.target.msg_title.value = '';\n            e.target.msg_content.value = '';\n            e.target.to_email.value = '';\n            this.setState({\n                done: 1\n            })\n\n        }).catch((error => {\n            console.log(error)\n        }))\n    }\n\n    // /notifications/notify/\n    render() {\n        return (\n            <div className='container'>\n                <form onSubmit={this.HandleSendMessage}>\n                    <div className='d-flex flex-column mt-5'>\n                        <div className=\"form-group mb-3\">\n                            <label >From</label>\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" disabled value={this.props.useremail} />\n\n                        </div>\n                        <div className=\"form-group mb-3\">\n                            <label >To</label>\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" name='to_email' />\n\n                        </div>\n                        <div className=\"form-group mb-3\">\n                            <label >Message Title</label>\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Enter message title\" name='msg_title' />\n\n                        </div>\n                        <div className=\"form-group mb-3\">\n                            <label >Message Content</label>\n                            <textarea type=\"email\" className=\"form-control\" placeholder=\"Enter message content\" name='msg_content' />\n\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\">Send</button>\n                    </div>\n\n\n                </form>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\n// import 'jquery/dist/jquery.min.js'\n// import 'bootstrap/dist/js/bootstrap.min.js'\nimport axios from 'axios'\nimport Form from './Form'\nexport default class Nav extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            notify_content: [],\n            notify_count: 0,\n            current_username: '',\n            current_mail:'',\n            current_id:0\n        }\n        // this.url = \"http://127.0.0.1:8000\" //for npm start\n        this.url = \"\"\n    }\n\n    // componentDidMount = () => {\n    //     axios.get(`${this.url}/users/unread-notify/1/`).then(response => {\n    //         console.log(response.data);\n    //         this.setState({\n    //             notify_count: response.data.count,\n    //             notify_content: [...response.data.notifications],\n    //             current_username: response.data.username\n    //         }, () => { console.log(this.state.notify_content) })\n    //     })\n    // }\n\n    HandleLoginas =(e)=>{\n        e.preventDefault()\n        const userID=e.target.user_id.value\n        axios.get(`${this.url}/users/unread-notify/${userID}/`).then(response => {\n            console.log(response.data);\n            this.setState({\n                notify_count: response.data.count,\n                notify_content: [...response.data.notifications],\n                current_username: response.data.username,\n                current_mail:response.data.useremail,\n                current_id:userID\n            }, () => { console.log(this.state.notify_content) })\n        })\n    }\n\n    ChangeNotifyState=(pk)=>{\n        axios.patch(`${this.url}/notifications/notify/${pk}/`).then(()=>\n          {  console.log(pk);\n            // console.log(this.state.notify_content)\n            const {notify_content:data}=this.state\n            for (var notify of data){\n                if (notify.id == pk){\n                    data.splice(data.indexOf(notify),1)\n                    this.setState({\n                        notify_content:[...data],\n                        notify_count:this.state.notify_count-=1\n                    })\n                }\n            }\n        }\n        )\n    }\n\n    DeleteNotify=(pk)=>{\n        axios.delete(`${this.url}/notifications/notify/${pk}/`).then(()=>\n          {  console.log(pk);\n            // console.log(this.state.notify_content)\n            const {notify_content:data}=this.state\n            for (var notify of data){\n                if (notify.id == pk){\n                    data.splice(data.indexOf(notify),1)\n                    this.setState({\n                        notify_content:[...data],\n                        notify_count:this.state.notify_count-=1\n                    })\n                }\n            }\n        }\n        )\n    }\n\n    render() {\n        return (\n            <div>\n\n                <div className=\"collapse\" id=\"navbarToggleExternalContent\">\n                    <div className=\"bg-dark p-4\">\n                        <h5 className=\"text-white h4\">Collapsed content</h5>\n                        <span className=\"text-muted\">Toggleable via the navbar brand.</span>\n                    </div>\n                </div>\n                <nav className=\"navbar navbar-dark bg-dark\">\n                    <div className=\"container-fluid\">\n                \n                   \n                            <form className='d-flex' onSubmit={this.HandleLoginas}>\n                                <div class=\" mx-sm-3 \">\n                                \n                                    <input type=\"text\" class=\"form-control\" placeholder=\"login as\" name='user_id' />\n                                </div>\n                                <button type='submit' className='btn btn-light'>login</button>\n                            </form>\n                   \n                         <h3 className='text-white'>{this.state.current_username ? 'welcom '+this.state.current_username :'' }</h3>\n                         {this.state.current_username ?                         <button type=\"button\" className=\"btn btn-primary position-relative\">\n                            Notification\n                            <span className=\"position-absolute top-0 mt-1 mb-1 start-0 translate-middle badge rounded-pill bg-danger\">\n                                {this.state.notify_count}+\n                                <span className=\"visually-hidden\">unread messages</span>\n                            </span>\n                        </button> :'' }\n                        \n\n                        {/* <button type=\"button\" className=\"btn btn-lg btn-danger\" data-bs-toggle=\"popover\" title=\"Popover title\" data-bs-content=\"And here's some amazing content. It's very engaging. Right?\">Click to toggle popover</button> */}\n                    </div>\n                </nav>\n                <Form useremail={this.state.current_mail} userid={this.state.current_id} />\n                <hr />\n                <div className=\"d-flex flex-row justify-content-center flex-wrap\">\n                    {this.state.notify_content.map((object, index) =>\n\n                        <div className=\" shadow card  m-3\" style={{ \"max-width\": \"18rem\" }} key={index}>\n                            <div className=\"card-header\">{object.sender}</div>\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title\">{object.title}</h5>\n                                <p className=\"card-text\">{object.content}</p>\n                                <span>seen state : {object.state ? 'read' : 'unseen'}</span>\n                            </div>\n                            <div className='d-flex justify-content-around'>\n                                <button className='btn btn-success' onClick={()=>this.ChangeNotifyState(object.id)}>as read</button>\n                                <button className='btn btn-danger' onClick={()=>this.DeleteNotify(object.id)}>delete</button>\n                            </div>\n                        </div>\n\n                    )\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\n","// import logo from './logo.svg';\nimport './App.css';\nimport Form from './NavComponent/Form';\nimport Nav from './NavComponent/Nav';\n\nfunction App() {\n  return (\n    <div >\n      <Nav/>\n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}